<div class="register-container">
  <h2>Register</h2>
  <form (submit)="onSubmit()">
    <div class="form-group">
      <label for="username">Username:</label>
      <input type="text" id="username" [(ngModel)]="username" name="username" required>
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <input type="password" id="password" [(ngModel)]="password" name="password" required>
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" [(ngModel)]="email" name="email" required>
    </div>
    <div class="form-group">
      <label for="role">Role:</label>
      <select id="role" [(ngModel)]="role" name="role">
        <option value="jobseeker">Jobseeker</option>
        <option value="recruiter">Recruiter</option>
      </select>
    </div>

    <div *ngIf="role === 'jobseeker'" class="jobseeker-section">
      <div class="form-group">
        <p><strong>Skills:</strong></p>
        <div *ngFor="let skill of skills; let i = index; trackBy: trackByIndex" class="skill-input">
          <input type="text" [(ngModel)]="skills[i]" name="skill{{i}}" placeholder="Skill" required>
          <button type="button" class="remove-btn" (click)="removeSkill(i)">Remove</button>
        </div>
        <button type="button" class="add-btn" (click)="addSkill()">Add Skill</button>
      </div>

      <div class="form-group">
        <p><strong>Work Experience:</strong></p>
        <div *ngFor="let exp of workExperience; let i = index; trackBy: trackByIndex" class="work-exp-input">
          <input type="text" [(ngModel)]="workExperience[i].title" name="workTitle{{i}}" placeholder="Title" required>
          <input type="text" [(ngModel)]="workExperience[i].company" name="workCompany{{i}}" placeholder="Company" required>
          <div class="date-inputs">
            <input type="date" [(ngModel)]="workExperience[i].startDate" name="workStartDate{{i}}" required>
            <input type="date" [(ngModel)]="workExperience[i].endDate" name="workEndDate{{i}}">
          </div>
          <textarea [(ngModel)]="workExperience[i].description" name="workDescription{{i}}" placeholder="Description"></textarea>
          <button type="button" class="remove-btn" (click)="removeWorkExperience(i)">Remove</button>
        </div>
        <button type="button" class="add-btn" (click)="addWorkExperience()">Add Work Experience</button>
      </div>

      <div class="form-group">
        <p><strong>Education:</strong></p>
        <div *ngFor="let edu of education; let i = index; trackBy: trackByIndex" class="education-input">
          <input type="text" [(ngModel)]="education[i].degree" name="degree{{i}}" placeholder="Degree" required>
          <input type="text" [(ngModel)]="education[i].university" name="university{{i}}" placeholder="University" required>
          <input type="text" [(ngModel)]="education[i].year" name="year{{i}}" placeholder="Year" required>
          <button type="button" class="remove-btn" (click)="removeEducation(i)">Remove</button>
        </div>
        <button type="button" class="add-btn" (click)="addEducation()">Add Education</button>
      </div>
    </div>

    <button type="submit" class="register-btn">Register</button>
  </form>
  <div *ngIf="error" class="error">{{ error }}</div>
</div>
